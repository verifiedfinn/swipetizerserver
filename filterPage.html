<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filter Page</title>
    <!-- introduce noUiSlider for range slider -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider/distribute/nouislider.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nouislider/distribute/nouislider.min.js"></script>

</head>

<body>
    <div class="filter-page">
        <h1>SESSION PREFERENCES</h1>
        
        <div class="section">
            <span class="label">Location</span>
            <span class="arrow">&#9654;</span>
        </div>
        <hr>

        <div class="section">
            <span class="label">Maximum Distance</span>
            <span class="value" id="distance-value">5 km</span>
            <div id="distance-slider"></div>
        </div>
        <hr>
        
        <div class="section">
            <span class="label">Price Range</span>
            <span class="value" id="price-value">$ - $$$</span>
            <div id="price-slider"></div>
        </div>
        <hr>
        
        <div class="section">
            <span class="label">Ratings Range</span>
            <span class="value" id="rating-value">** - ***</span>
            <div id="rating-slider"></div>
        </div>
        <hr>

        <div class="section">
            <div style="display: flex; justify-content: space-between;">
                <!-- Dietary Restrictions -->
                <div style="width: 45%;">
                    <h3>Dietary Restrictions</h3>
                    <label><input type="checkbox"> Vegetarian</label><br>
                    <label><input type="checkbox"> Vegan</label><br>
                    <label><input type="checkbox"> Gluten-Free</label><br>
                    <label><input type="checkbox"> Fast-Casual</label><br>
                </div>
            
                <!-- Vertical Line -->
                <div style="border-left: 2px solid; height: 200px; margin-top: 10px;"></div>

                <!-- Cuisine Preferences -->
                <div style="width: 45%;">
                    <h3>Cuisine Preferences</h3>
                    <label><input type="checkbox"> Italian</label><br>
                    <label><input type="checkbox"> Japanese</label><br>
                    <label><input type="checkbox"> Mexican</label><br>
                    <label><input type="checkbox"> Pub fare,potatoes and pints</label><br>
                </div>
            </div>
        </div>

        <button class="create-session-btn">Create New Session</button>
    </div>
</body>
</html>

<script>
    // Maximum Distance Slider
    var distanceSlider = document.getElementById('distance-slider');
    noUiSlider.create(distanceSlider, {
        start: [3],
        range: {
            'min': 1,
            'max': 10
        },
        step: 1,
        tooltips: true
    });
    distanceSlider.noUiSlider.on('update', function (values) {
        document.getElementById('distance-value').innerText = Math.round(values[0]) + ' km';
    });

    // Price Range Slider
    var priceSlider = document.getElementById('price-slider');
    noUiSlider.create(priceSlider, {
        start: [2, 3],
        range: {
            'min': 1,
            'max': 5
        },
        step: 1,
        tooltips: true,
        connect: true,
        format: {
            to: function (value) {
                var levels = ["0", "15€", "30€", "50€", "over 50"];
                return levels[Math.round(value) - 1];
            },
            from: function (value) {
                return value;
            }
        }
    });
    priceSlider.noUiSlider.on('update', function (values) {
        document.getElementById('price-value').innerText = values.join(' - ');
    });

    // Ratings Range Slider
    var ratingSlider = document.getElementById('rating-slider');
    noUiSlider.create(ratingSlider, {
        start: [3, 5],
        range: {
            'min': 1,
            'max': 5
        },
        step: 1,
        tooltips: true,
        connect: true,
        format: {
            to: function (value) {
                var levels = ["*", "**", "***", "****","*****"];
                return levels[Math.round(value) - 1];
            },
            from: function (value) {
                return value;
            }
        }
    });
    ratingSlider.noUiSlider.on('update', function (values) {
        document.getElementById('rating-value').innerText = values.join(' - ');
    });
</script>
